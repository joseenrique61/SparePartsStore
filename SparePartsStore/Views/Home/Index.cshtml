@{
    ViewData["Title"] = "Home Page";
}

@model IEnumerable<SparePart>

<div class="content">
    <div class="text-center">
        <!--Carousel-->
        <!--
            <div class="card-header">
            <img src="https://static3.therichestimages.com/wordpress/wp-content/uploads/2015/11/1622053-4961x3307-2013-Mercedes-Benz-Vision-Gran-Turismo-concept-e1446483647459.jpg" class="card-img-top" alt="...">
        </div>
        -->
        <h1 class="display-4 text-center" style="font-weight: 700; font-family: 'Roboto', sans-serif; color: #333;">
            Welcome to <span style="color: #78c2ad;">SpareParts Store</span>
        </h1>

        <div id="carouselExampleIndicators" class="carousel slide">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="https://th.bing.com/th/id/R.15186e32eb01a6ad566a23fc60acd7b5?rik=M7Yqli2BwQPgag&riu=http%3a%2f%2fdata.1freewallpapers.com%2fdownload%2falfa-romeo-v8-engine.jpg&ehk=13PJ4Oq1QZHZXu8sQKoLkuPPTrkUUq0gaNjGvuPQe10%3d&risl=&pid=ImgRaw&r=0" class="carousel-image" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Engine</h5>
                        <p>Camshaft, , Crankshaft, etc.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="https://www.ford.mx/content/dam/Ford/website-assets/latam/mx/open-graph/2023/blog/experto/ford-blog-radiador-correcto-funcionamiento-enfriamiento-motor-auto.jpg" class="carousel-image" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Car refrigeration</h5>
                        <p>Water pumps, Air pumps, Radiator, etc.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="https://th.bing.com/th/id/R.fcafa45cb3e53fefe71a85bc498b6ed7?rik=xU92Ii1XQVV0gA&pid=ImgRaw&r=0" class="carousel-image" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Brakes</h5>
                        <p>Brake disc,Brake pad, etc.</p>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>

        <p class="nanum-gothic-regular">SEE OUR CATALOG</p>

        <div class="container justify-content-lg-evenly">
            <label for="filterByCategory" class="mb-2">Filter by Category:</label>
            <select id="filterByCategory" class="form-control">
                <option value="">All</option>
                @foreach (var category in ViewBag.CategoryId)
                {
                    <option value="@category.Id">@category.Name</option>
                }
            </select>
        </div>


        <div class="container text-center">
            <div class="row row-cols-auto">
                @if (Model != null && Model.Any())
                {
                    @foreach (var item in Model)
                    {
                        <div class="card" data-category-id="@item.CategoryId">
                            <div class="card-body">
                                <img src="@Html.DisplayFor(modelItem => item.Image)" alt="..." class="image-spareparts">
                                <header class="nanum-gothic-regular-20px">@Html.DisplayFor(modelItem => item.Name)</header>
                                <header>@Html.DisplayFor(modelItem => item.Category.Name)</header>
                            </div>
                            <div class="card-footer">
                                <a href="~/SparePart/Details/@item.Id" class="btnDetails">More Details</a>
                            </div>
                        </div>
                    }
                }
                else
                {
                    <div class="card">
                        <p>The stock is empty.</p>
                    </div>
                    <div class="card">
                        <p>The stock is empty.</p>
                    </div>
                    <div class="card">
                        <p>The stock is empty.</p>
                    </div>
                    <div class="card">
                        <p>The stock is empty.</p>
                    </div>
                }
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    document.getElementById("filterByCategory").addEventListener("change", function () {
        var selectedCategory = this.value;
        var cards = document.querySelectorAll(".card");

        cards.forEach(function (card) {
            if (selectedCategory === "" || card.getAttribute("data-category-id") === selectedCategory) {
                card.style.display = "block";
            } else {
                card.style.display = "none";
            }
        });
    });
</script>

